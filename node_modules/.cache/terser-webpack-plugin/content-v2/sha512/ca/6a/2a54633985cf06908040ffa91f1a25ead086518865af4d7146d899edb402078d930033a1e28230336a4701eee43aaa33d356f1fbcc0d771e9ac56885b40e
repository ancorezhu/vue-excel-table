{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(t,e,i){i(\"201c\"),t.exports=i(\"41oC\")},\"0UNb\":function(t,e,i){\"use strict\";var r=i(\"4IID\");i.n(r).a},\"3GTM\":function(t,e,i){t.exports={title:\"title__vxuSLve\",main:\"main_2C7iyW_-\",features_wrapper:\"features_wrapper_1BNp03xf\",features_title:\"features_title_1pT77ya0\",features_list:\"features_list_tYH0BP8u\",willtable_wrapper:\"willtable_wrapper_2ooFWg1m\",github_link:\"github_link_2qUMS9_4\",more:\"more_2j6pmXzp\"}},\"41oC\":function(t,e,i){\"use strict\";i.r(e);var r=i(\"oCYn\"),s=(i(\"VgtF\"),i(\"RQ3N\"),i(\"3Nwd\")),o=i.n(s),n=i(\"luuv\"),l=i.n(n);function a(t,e){var i,r=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)),r}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){var r,s,o;r=t,o=i[s=e],s in r?Object.defineProperty(r,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[s]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function c(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}i(\"Y7/N\");var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.states={tableWidth:null,tableHeight:null,mainWidth:null,mainHeight:null,rowHeight:28,theaderHeight:30,scrollBarWidth:8,tableBodyLeft:0,tableBodyTop:0,columns:[],data:[],showData:[],domData:[],initialData:null,changeData:[],dataStatusList:[],columnsStatusList:[],editor:{editorRange:{},editorXIndex:0,editorYIndex:0,curEditorCoverValue:\"\",editorShow:!1,editorIsFixed:!1,editing:!1,editType:\"text\",options:[],curEditorWidth:80},autofill:{autofillXIndex:0,autofillYIndex:0,isAutofill:!1,autofillYArr:[]},selector:{isSelected:!1,selectedXIndex:0,selectedYIndex:0,selectedXArr:[],selectedYArr:[]},filters:{},dropdown:{index:null,list:{},key:\"\",sort:\"\"},isMac:!1,adjustLineLeft:0,adjustLineShow:!1,historyData:[],curHisory:0,isOperation:!1,scrollbar:{posX:0,posY:0,xWidth:0,yHeight:0},visibleRowStartIndex:0,visibleRowEndIndex:0}}var e,i;return e=t,(i=[{key:\"calcDomData\",value:function(){var t=this.states;t.visibleRowStartIndex=Math.floor(t.tableBodyTop/t.rowHeight),t.visibleRowEndIndex=t.visibleRowStartIndex+Math.ceil(t.mainHeight/t.rowHeight),t.domData=t.showData.slice(t.visibleRowStartIndex,t.visibleRowEndIndex+1)}},{key:\"initScrollBarLength\",value:function(){var t=this.states,e=t.mainWidth/t.tableWidth*t.mainWidth;e>t.mainWidth?t.scrollbar.xWidth=0:t.scrollbar.xWidth=e<=20?20:e;var i=t.mainHeight/t.tableHeight*t.mainHeight;i>t.mainHeight?t.scrollbar.yHeight=0:t.scrollbar.yHeight=i<=20?20:i}},{key:\"setScrollStatus\",value:function(t,e){var i=this.states;t<=0?i.tableBodyTop=0:t>i.tableHeight-i.mainHeight?i.tableBodyTop=i.tableHeight-i.mainHeight:i.tableBodyTop=t,e<=0?i.tableBodyLeft=0:e>i.tableWidth-i.mainWidth?i.tableBodyLeft=i.tableWidth-i.mainWidth:i.tableBodyLeft=e,i.scrollbar.posX=i.tableBodyLeft/(i.tableWidth-i.mainWidth)*(i.mainWidth-i.scrollbar.xWidth),i.scrollbar.posY=i.tableBodyTop/(i.tableHeight-i.mainHeight)*(i.mainHeight-i.scrollbar.yHeight)}},{key:\"handleIsMac\",value:function(){/macintosh|mac os x/i.test(navigator.userAgent)&&(this.states.isMac=!0)}},{key:\"getEditorContent\",value:function(t){var e=this.states;e.showData[e.editor.editorYIndex][e.columns[e.editor.editorXIndex].key]=t}},{key:\"resetEditor\",value:function(){var t=this.states;t.editor.editing=!1,t.editor.editType=\"text\"}},{key:\"handleAutofill\",value:function(){this.states.autofill.isAutofill=!0,window.addEventListener(\"mouseup\",this.autofillUp.bind(this))}},{key:\"autofillUp\",value:function(){var t=this.states;if(t.autofill.autofillYArr[1]>t.selector.selectedYArr[1]){for(var e=0;e<=t.autofill.autofillYArr[1]-t.autofill.autofillYArr[0];e+=1)for(var i=0;i<=t.selector.selectedXArr[1]-t.selector.selectedXArr[0];i+=1)t.columns[i+t.selector.selectedXArr[0]].disabled||(t.showData[e+t.autofill.autofillYArr[0]][t.columns[i+t.selector.selectedXArr[0]].key]=t.showData[t.selector.selectedYArr[1]][t.columns[i+t.selector.selectedXArr[0]].key]);t.selector.selectedYArr.splice(1,1,t.autofill.autofillYArr[1]);var r=t.autofill.autofillYArr[1];t.autofill.autofillYIndex=r}if(t.autofill.autofillYArr[0]<t.selector.selectedYArr[0]){for(var s=0;s<=t.autofill.autofillYArr[1]-t.autofill.autofillYArr[0];s+=1)for(var o=0;o<=t.selector.selectedXArr[1]-t.selector.selectedXArr[0];o+=1)t.columns[o+t.selector.selectedXArr[0]].disabled||(t.showData[s+t.autofill.autofillYArr[0]][t.columns[o+t.selector.selectedXArr[0]].key]=t.showData[t.selector.selectedYArr[0]][t.columns[o+t.selector.selectedXArr[0]].key]);t.selector.selectedYArr.splice(0,1,t.autofill.autofillYArr[0])}setTimeout((function(){t.autofill.autofillYArr=[],t.autofill.isAutofill=!1}),0)}},{key:\"multiSelect\",value:function(t,e,i,r){var s=this.states;\"selection\"!==r&&(s.selector.isSelected&&setTimeout((function(){s.autofill.autofillXIndex=e>s.editor.editorXIndex?e:s.editor.editorXIndex,s.autofill.autofillYIndex=i>s.editor.editorYIndex?i:s.editor.editorYIndex,s.selector.selectedXIndex=e,s.selector.selectedYIndex=i,s.selector.selectedXIndex>s.editor.editorXIndex?(s.selector.selectedXArr.splice(0,1,s.editor.editorXIndex),s.selector.selectedXArr.splice(1,1,s.selector.selectedXIndex)):(s.selector.selectedXArr.splice(0,1,s.selector.selectedXIndex),s.selector.selectedXArr.splice(1,1,s.editor.editorXIndex)),s.selector.selectedYIndex>s.editor.editorYIndex?(s.selector.selectedYArr.splice(0,1,s.editor.editorYIndex),s.selector.selectedYArr.splice(1,1,s.selector.selectedYIndex)):(s.selector.selectedYArr.splice(0,1,s.selector.selectedYIndex),s.selector.selectedYArr.splice(1,1,s.editor.editorYIndex))}),0),s.autofill.isAutofill&&(i>s.selector.selectedYArr[1]?s.autofill.autofillYArr=[s.selector.selectedYArr[1]+1,i]:i<s.selector.selectedYArr[0]?s.autofill.autofillYArr=[i,s.selector.selectedYArr[0]-1]:s.autofill.autofillYArr=[]))}},{key:\"openDropdown\",value:function(t){var e=this.states;\"number\"!=typeof t||e.dropdown.index===t?e.dropdown.index=null:(e.dropdown.index=t,e.dropdown=JSON.parse(JSON.stringify(d(d({},e.columnsStatusList[e.dropdown.index]),{},{index:e.dropdown.index}))))}},{key:\"selectAllCells\",value:function(){var t=this.states;t.selector.selectedXIndex=t.editor.editorRange.minX,t.selector.selectedYIndex=t.editor.editorRange.minY,t.selector.selectedXArr=[t.editor.editorRange.minX,t.editor.editorRange.maxX],t.selector.selectedYArr=[t.editor.editorRange.minY,t.editor.editorRange.maxY]}},{key:\"handleFilters\",value:function(){var t=this.states;t.columnsStatusList.forEach((function(e){\"selection\"!==e.type&&(e.list?Object.keys(e.list).forEach((function(t){e.list[t].count=0})):e.list={},t.data.forEach((function(t){t[e.key]&&(e.list[t[e.key]]?e.list[t[e.key]].count+=1:(e.list[t[e.key]]={},e.list[t[e.key]].count=1))})),Object.keys(e.list).forEach((function(t){0===e.list[t].count&&delete e.list[t]})))}))}},{key:\"handleErrors\",value:function(){var t=this,e=this.states;setTimeout((function(){e.dataStatusList.forEach((function(i,r){e.columns.forEach((function(s){t.verify(s,e.data[r][s.key])?i.errors.includes(s.key)&&i.errors.splice(i.errors.indexOf(s.key),1):i.errors.includes(s.key)||i.errors.push(s.key)}))}))}),0)}},{key:\"verify\",value:function(t,e){if(!e||t.noVerify)return!0;var i,r;if(t.validate)i=t.validate(e);else switch(t.type){case\"date\":i=function(t){var e=t.match(/^(\\d{1,4})(-|\\/)(\\d{1,2})\\2(\\d{1,2})$/);if(null==e)return!1;var i=new Date(e[1],e[3]-1,e[4]);return i.getFullYear()===Number(e[1])&&i.getMonth()+1===Number(e[3])&&i.getDate()===Number(e[4])}(e);break;case\"month\":i=function(t){var e=t.match(/^(\\d{1,4})(-|\\/)(\\d{1,2})$/);if(null==e)return!1;var i=new Date(e[1],e[3]-1);return i.getFullYear()===Number(e[1])&&i.getMonth()+1===Number(e[3])}(e);break;case\"select\":r=e,i=!!t.options.map((function(t){return t.value})).includes(r);break;case\"number\":i=!isNaN(e);break;default:i=!0}return i}},{key:\"sort\",value:function(t){var e=this.states;e.columnsStatusList.forEach((function(t){t.sort=\"\"})),\"ascending\"===(e.columnsStatusList[e.dropdown.index].sort=t)?e.showData.sort((function(t,i){return t[e.columnsStatusList[e.dropdown.index].key]>i[e.columnsStatusList[e.dropdown.index].key]?1:-1})):e.showData.sort((function(t,i){return t[e.columnsStatusList[e.dropdown.index].key]>i[e.columnsStatusList[e.dropdown.index].key]?-1:1})),e.dropdown.index=null}},{key:\"handleFilter\",value:function(){var t=this.states;t.columnsStatusList[t.dropdown.index]={list:t.dropdown.list,key:t.dropdown.key,sort:t.dropdown.sort};var e=[];Object.keys(t.dropdown.list).forEach((function(i){t.dropdown.list[i].checked&&e.push(i)})),t.filters[t.columnsStatusList[t.dropdown.index].key]=e,this.filterData()}},{key:\"resetFilter\",value:function(){var t=this.states;delete t.filters[t.columnsStatusList[t.dropdown.index].key],Object.keys(t.columnsStatusList[t.dropdown.index].list).forEach((function(e){t.columnsStatusList[t.dropdown.index].list[e].checked=!1})),this.filterData()}},{key:\"filterData\",value:function(){var t=this.states;t.showData=t.data,Object.keys(t.filters).forEach((function(e){t.showData=t.showData.filter((function(i){return t.filters[e].includes(i[e].toString())}))})),t.dropdown.index=null}},{key:\"handleChangeData\",value:function(){var t=this.states,e=JSON.parse(JSON.stringify(t.data)),i=JSON.parse(JSON.stringify(t.initialData));t.changeData=e.filter((function(t,e){return JSON.stringify(t)!==JSON.stringify(i[e])}))}},{key:\"operation\",value:function(t){var e=this.states;e.editor.editing||(\"undo\"===t&&1<e.curHisory&&--e.curHisory,\"recovery\"===t&&e.curHisory<e.historyData.length&&(e.curHisory+=1),e.isOperation=!0,JSON.parse(e.historyData[e.curHisory-1]).forEach((function(t,i){Object.keys(t).forEach((function(r){e.data[i][r]=t[r]}))})),setTimeout((function(){e.isOperation=!1}),0))}},{key:\"clearSelected\",value:function(){for(var t=this.states,e=0;e<=t.selector.selectedYArr[1]-t.selector.selectedYArr[0];e+=1)for(var i=0;i<=t.selector.selectedXArr[1]-t.selector.selectedXArr[0];i+=1)t.columns[i+t.selector.selectedXArr[0]].disabled||(t.showData[e+t.selector.selectedYArr[0]][t.columns[i+t.selector.selectedXArr[0]].key]=\"\")}}])&&c(e.prototype,i),t}(),h={bind:function(t,e){function i(i){if(t.contains(i.target))return!1;e.expression&&e.value(i)}t.__vueClickOutside__=i,document.addEventListener(\"click\",i)},update:function(){},unbind:function(t){document.removeEventListener(\"click\",t.__vueClickOutside__),delete t.__vueClickOutside__}},f={methods:{getData:function(){return this.data},setData:function(t){var e=this;this.data=t,this.$nextTick((function(){e.initData(),e.store.handleFilters()}))},getChangeData:function(){return this.store.states.changeData},getErrorRows:function(){var t=this.store.states.dataStatusList.map((function(t,e){return 0<t.errors.length?e:null}));return this.data.map((function(e,i){return t.includes(i)?{data:e,index:i}:null})).filter((function(t){return t}))},addItem:function(t){var e=this.store.states;this.data.push(t),e.dataStatusList.push({checked:!1,errors:[]})},removeItems:function(t,e){var i=this,r=this.store.states;t&&e instanceof Array&&e.forEach((function(e){var s=i.data.findIndex((function(i){return i[t]===e}));r.dataStatusList.splice(s,1),i.data.splice(s,1)}))}}},p={components:{\"el-checkbox\":o.a},props:{fixed:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},allShow:Boolean,columnsWidth:{type:Array,default:function(){return[]}},fixedCount:[String,Number],store:{required:!0}},data:function(){return{checkedAll:!1,adjustWidthValue:80,adjustWidthFlag:!1,adjustWidthIndex:0,adjustWidthType:\"\",mouseX:0}},computed:{columns:function(){return this.store.states.columns},columnsStatusList:function(){return this.store.states.columnsStatusList},dropdown:function(){return this.store.states.dropdown},filters:function(){return this.store.states.filters}},methods:{selectAll:function(){this.$parent.selectAll()},handlerDown:function(t){this.adjustWidthFlag=!0,this.adjustWidthIndex=t,this.store.states.adjustLineShow=!0,window.addEventListener(\"mousemove\",this.handlerMove),window.addEventListener(\"mouseup\",this.handlerUp)},handlerMove:function(t){var e;this.adjustWidthFlag&&(t=t||window.event,80<=(e=this.fixedCount>=this.adjustWidthIndex+1?t.pageX-this.$parent.excelPos.left-this.$refs.tr.children[this.adjustWidthIndex].offsetLeft:t.pageX+this.store.states.tableBodyLeft-this.$parent.excelPos.left-this.$refs.tr.children[this.adjustWidthIndex].offsetLeft)&&(this.adjustWidthValue=e,this.store.states.adjustLineLeft=t.pageX-this.$parent.excelPos.left))},handlerUp:function(){this.$parent.adjustWidth(this.adjustWidthIndex,this.adjustWidthValue),this.adjustWidthFlag=!1,this.store.states.adjustLineShow=!1,window.removeEventListener(\"mousemove\",this.handlerMove),window.removeEventListener(\"mouseup\",this.handlerUp)},openDropdown:function(t){this.store.openDropdown(t)},isActive:function(t){return!(!t||!this.filters.hasOwnProperty(t.key)&&!t.sort)},iconClass:function(t){var e,i,r;switch(t){case\"number\":e=\"number\";break;case\"date\":case\"month\":e=\"date\";break;case\"select\":e=\"select\";break;default:e=\"text\"}return!0,(r=e)in(i={})?Object.defineProperty(i,r,{value:!0,enumerable:!0,configurable:!0,writable:!0}):i[r]=!0,i}}},m=(i(\"NgJc\"),i(\"KHd+\")),y=Object(m.a)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"ww-theader\",class:{fixed:t.fixed}},[i(\"div\",{ref:\"tr\",staticClass:\"ww-tr\",style:{width:t.store.states.tableWidth+\"px\",height:t.store.states.theaderHeight+\"px\",transform:\"translate3d(\\n        -\"+(t.fixed?0:t.store.states.tableBodyLeft)+\"px,\\n        0,\\n        0\\n      )\"}},t._l(t.columns,(function(e,r){return i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.fixed||t.allShow,expression:\"th.fixed || allShow\"}],key:r,staticClass:\"ww-th\",class:{selection:\"selection\"===e.type},style:{width:t.columnsWidth[r]+\"px\",\"text-align\":e.align},attrs:{title:e.title}},[\"selection\"===e.type?i(\"el-checkbox\",{attrs:{size:\"mini\"},on:{change:t.selectAll},model:{value:t.checkedAll,callback:function(e){t.checkedAll=e},expression:\"checkedAll\"}}):i(\"p\",{staticClass:\"ww-title\",class:{active:t.isActive(t.columnsStatusList[r])},style:{width:t.columnsWidth[r]-20+\"px\"}},[t.showIcon?i(\"span\",{staticClass:\"icon\",class:t.iconClass(e.type)}):t._e(),t._v(\"\\n        \"+t._s(e.title)+\"\\n      \")]),t._v(\" \"),\"selection\"!==e.type?i(\"div\",{staticClass:\"dropdown\",class:{active:t.dropdown.index===r},style:{top:(t.store.states.theaderHeight-14)/2+\"px\"}},[e.action?i(\"i\",{on:{click:function(e){return e.stopPropagation(),t.openDropdown(r)}}}):t._e()]):t._e(),t._v(\" \"),\"selection\"!==e.type?i(\"div\",{staticClass:\"handler\",on:{mousedown:function(e){return t.handlerDown(r)}}}):t._e()],1)})),0)])}),[],!1,null,null,null).exports;function w(t,e){var i,r=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)),r}function x(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(Object(i),!0).forEach((function(e){var r,s,o;r=t,o=i[s=e],s in r?Object.defineProperty(r,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[s]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var v={props:{fixed:{type:Boolean,default:!1},allShow:Boolean,columnsWidth:{type:Array,default:function(){return[]}},cellStyle:{type:[Object,Function],default:function(){return function(){return{}}}},cellClassName:{type:[Object,Function],default:function(){return function(){return{}}}},store:{required:!0},scrollY:{type:Boolean,default:!1}},components:{\"el-checkbox\":o.a},data:function(){return{}},computed:{rowHeight:function(){return this.store.states.rowHeight},columns:function(){return this.store.states.columns},dataStatusList:function(){return this.store.states.dataStatusList},showData:function(){return this.store.states.showData},domData:function(){return this.store.states.domData},editor:function(){return this.store.states.editor},selector:function(){return this.store.states.selector},autofill:function(){return this.store.states.autofill}},methods:{selectionChange:function(){this.$parent.selectionChange()},multiSelect:function(t,e,i,r){this.store.multiSelect(t,e,i,r)},selectCell:function(t,e,i,r){this.$parent.selectCell(t,e,i,r)},format:function(t,e){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return i?t?\"number\"===e&&parseInt(t,10)?parseInt(t,10).toLocaleString():t:void 0:t},styleObj:function(t,e,i,r,s){return x({width:\"\".concat(s[r],\"px\"),height:\"\".concat(this.rowHeight,\"px\"),textAlign:e.align},this.cellStyle({row:t,column:e,rowIndex:i,columnIndex:r}))},classObj:function(t,e,i,r){return x({disabled:e.disabled,selection:\"selection\"===e.type,error:!this.store.verify(e,t[e.key],i)},this.cellClassName({row:t,column:e,rowIndex:i,columnIndex:r}))}}},b=(i(\"W+Kp\"),Object(m.a)(v,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"ww-tbody\",class:{fixed:t.fixed,scrollY:t.scrollY,empty:0===t.showData.length},style:{top:t.fixed?t.store.states.theaderHeight+\"px\":\"\"}},[i(\"div\",{style:{width:t.store.states.tableWidth+\"px\",height:(t.showData.length?t.showData.length*t.store.states.rowHeight:80)+\"px\",transform:\"translate3d(\\n        -\"+(t.fixed?0:t.store.states.tableBodyLeft)+\"px,\\n        -\"+t.store.states.tableBodyTop+\"px,\\n        0\\n      )\"}},[t._l(t.domData,(function(e,r){return i(\"div\",{key:r,staticClass:\"ww-tr\",style:{transform:\"translate3d(\\n          0,\\n          \"+(r+t.store.states.visibleRowStartIndex)*t.store.states.rowHeight+\"px,\\n          0\\n        )\"}},t._l(t.columns,(function(s,o){return i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:s.fixed||t.allShow,expression:\"th.fixed || allShow\"}],key:o,staticClass:\"ww-td\",class:t.classObj(e,s,r+t.store.states.visibleRowStartIndex,o),style:t.styleObj(e,s,r+t.store.states.visibleRowStartIndex,o,t.columnsWidth),attrs:{title:e[s.key],\"data-key\":s.key},on:{mouseenter:function(e){return t.multiSelect(e,o,r+t.store.states.visibleRowStartIndex,s.type)},mousedown:function(e){return e.preventDefault(),t.selectCell(e,o,r+t.store.states.visibleRowStartIndex,s.type)}}},[\"selection\"===s.type&&t.dataStatusList[r+t.store.states.visibleRowStartIndex]?i(\"el-checkbox\",{attrs:{size:\"mini\"},on:{change:t.selectionChange},model:{value:t.dataStatusList[r+t.store.states.visibleRowStartIndex].checked,callback:function(e){t.$set(t.dataStatusList[r+t.store.states.visibleRowStartIndex],\"checked\",e)},expression:\"dataStatusList[yIndex + store.states.visibleRowStartIndex].checked\"}}):i(\"div\",{staticClass:\"ww-cell-content\",style:{\"max-width\":t.columnsWidth[o]+\"px\"}},[t._v(t._s(t.format(e[s.key],s.type,s.format)))])],1)})),0)})),t._v(\" \"),0!==t.showData.length||t.fixed?t._e():i(\"div\",{staticClass:\"ww-empty-block\"},[t._v(\"暂无数据\")])],2)])}),[],!1,null,null,null).exports),g=(i(\"ZhHq\"),i(\"53J1\")),k=i.n(g),A=(i(\"Hxq+\"),i(\"TkuN\")),S=i.n(A),C=(i(\"gmu+\"),i(\"wmP1\")),I={props:{columnsWidth:{type:Array,default:function(){return[]}},fixedCount:[String,Number],store:{required:!0}},components:{\"el-date-picker\":i.n(C).a,\"el-select\":S.a,\"el-option\":k.a},data:function(){return{editContent:\"\"}},computed:{cellEditorStyle:function(){var t=this,e=this.editor.editorIsFixed?this.columnsWidth.filter((function(e,i){return i<t.editor.editorXIndex})).reduce((function(t,e){return t+e}),0):this.columnsWidth.filter((function(e,i){return i<t.editor.editorXIndex})).reduce((function(t,e){return t+e}),0)-this.store.states.tableBodyLeft;return{top:\"\".concat(this.editor.editorYIndex*this.rowHeight-this.store.states.tableBodyTop+this.theaderHeight,\"px\"),left:\"\".concat(e,\"px\"),width:\"\".concat(this.columnsWidth[this.editor.editorXIndex],\"px\"),height:\"\".concat(this.rowHeight,\"px\"),\"z-index\":this.editor.editorIsFixed?4:1}},autofillHandlerStyle:function(){var t=this,e=this.editor.editorIsFixed&&this.selector.selectedYArr[0]===this.selector.selectedYArr[1]?this.columnsWidth.filter((function(e,i){return i<t.autofill.autofillXIndex})).reduce((function(t,e){return t+e}),0):this.columnsWidth.filter((function(e,i){return i<t.autofill.autofillXIndex})).reduce((function(t,e){return t+e}),0)-this.store.states.tableBodyLeft;return e=e+this.columnsWidth[this.autofill.autofillXIndex]-5,{top:\"\".concat((this.autofill.autofillYIndex+1)*this.rowHeight-4-this.store.states.tableBodyTop+this.theaderHeight,\"px\"),left:\"\".concat(e,\"px\"),\"z-index\":this.fixedCount>this.autofill.autofillXIndex?4:1}},selectedStyle:function(){var t=this;return{top:\"\".concat(this.selector.selectedYArr[0]*this.rowHeight-this.store.states.tableBodyTop+this.theaderHeight,\"px\"),left:\"\".concat(this.columnsWidth.filter((function(e,i){return i<t.selector.selectedXArr[0]})).reduce((function(t,e){return t+e}),0)-this.store.states.tableBodyLeft,\"px\"),width:\"\".concat(this.columnsWidth.filter((function(e,i){return i<=t.selector.selectedXArr[1]&&i>=t.selector.selectedXArr[0]})).reduce((function(t,e){return t+e}),0),\"px\"),height:\"\".concat((this.selector.selectedYArr[1]-this.selector.selectedYArr[0]+1)*this.rowHeight,\"px\")}},fixedSelectedStyle:function(){var t=this;return{top:\"\".concat(this.selector.selectedYArr[0]*this.rowHeight-this.store.states.tableBodyTop+this.theaderHeight,\"px\"),left:\"\".concat(this.columnsWidth.filter((function(e,i){return i<t.selector.selectedXArr[0]})).reduce((function(t,e){return t+e}),0),\"px\"),width:\"\".concat(this.columnsWidth.filter((function(e,i){return i<=t.selector.selectedXArr[1]&&i>=t.selector.selectedXArr[0]&&t.columns[i].fixed})).reduce((function(t,e){return t+e}),0),\"px\"),height:\"\".concat((this.selector.selectedYArr[1]-this.selector.selectedYArr[0]+1)*this.rowHeight,\"px\")}},autofillStyle:function(){var t=this;return{top:\"\".concat(this.autofill.autofillYArr[0]*this.rowHeight-this.store.states.tableBodyTop+this.theaderHeight,\"px\"),left:\"\".concat(this.columnsWidth.filter((function(e,i){return i<t.selector.selectedXArr[0]})).reduce((function(t,e){return t+e}),0)-this.store.states.tableBodyLeft,\"px\"),width:\"\".concat(this.columnsWidth.filter((function(e,i){return i<=t.selector.selectedXArr[1]&&i>=t.selector.selectedXArr[0]})).reduce((function(t,e){return t+e}),0),\"px\"),height:\"\".concat(0<this.autofill.autofillYArr.length?(this.autofill.autofillYArr[1]-this.autofill.autofillYArr[0]+1)*this.rowHeight:0,\"px\")}},fixedAutofillStyle:function(){var t=this;return{top:\"\".concat(this.autofill.autofillYArr[0]*this.rowHeight-this.store.states.tableBodyTop+this.theaderHeight,\"px\"),left:\"\".concat(this.columnsWidth.filter((function(e,i){return i<t.selector.selectedXArr[0]})).reduce((function(t,e){return t+e}),0),\"px\"),width:\"\".concat(this.columnsWidth.filter((function(e,i){return i<=t.selector.selectedXArr[1]&&i>=t.selector.selectedXArr[0]&&t.columns[i].fixed})).reduce((function(t,e){return t+e}),0),\"px\"),height:\"\".concat(0<this.autofill.autofillYArr.length?(this.autofill.autofillYArr[1]-this.autofill.autofillYArr[0]+1)*this.rowHeight:0,\"px\")}},theaderHeight:function(){return this.store.states.theaderHeight},rowHeight:function(){return this.store.states.rowHeight},columns:function(){return this.store.states.columns},editor:function(){return this.store.states.editor},selector:function(){return this.store.states.selector},autofill:function(){return this.store.states.autofill}},watch:{\"editor.editing\":{handler:function(t){t||(\"number\"===this.columns[this.editor.editorXIndex].type&&this.limitNumber(this.editContent,!0),this.store.getEditorContent(this.editContent),this.editContent=\"\")}}},methods:{limitNumber:function(t,e){var i;try{i=t.replace(/[^\\d.-]/g,\"\")}catch(t){return}/^0\\d+/.test(i)&&(i=i.replace(/0/,\"\")),e&&isNaN(i)&&(i=\"\"),this.editContent=i},setEditing:function(){this.$parent.setEditing()},clipboardToContent:function(t){this.$parent.clipboardToContent(t)},handleAutofill:function(){this.store.handleAutofill(),window.addEventListener(\"mousemove\",this.$parent.multiSelectAdjustPostion)},resetEditor:function(){this.store.resetEditor()}}},W=(i(\"hbnG\"),Object(m.a)(I,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",[i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.editor.editorShow,expression:\"editor.editorShow\"}],staticClass:\"ww-cell-editor\",class:{else:\"text\"!=t.editor.editType&&\"number\"!=t.editor.editType},style:t.cellEditorStyle,attrs:{title:t.editContent||t.editor.curEditorCoverValue},on:{dblclick:t.setEditing}},[i(\"textarea\",{ref:\"clipboard\",staticClass:\"ww-clipboard\",on:{paste:t.clipboardToContent}}),t._v(\" \"),i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.editor.editing,expression:\"editor.editing\"}],staticStyle:{flex:\"1\"}},[\"text\"==t.editor.editType?i(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.editContent,expression:\"editContent\"}],ref:\"text\",domProps:{value:t.editContent},on:{input:function(e){e.target.composing||(t.editContent=e.target.value)}}}):\"date\"===t.editor.editType?i(\"el-date-picker\",{ref:\"date\",style:{width:(140<t.editor.curEditorWidth?t.editor.curEditorWidth:140)+\"px\"},attrs:{size:\"mini\",\"value-format\":\"yyyy-MM-dd\",type:\"date\"},on:{blur:t.resetEditor},model:{value:t.editContent,callback:function(e){t.editContent=e},expression:\"editContent\"}}):\"month\"===t.editor.editType?i(\"el-date-picker\",{ref:\"month\",style:{width:(140<t.editor.curEditorWidth?t.editor.curEditorWidth:140)+\"px\"},attrs:{size:\"mini\",\"value-format\":\"yyyy-MM\",type:\"month\"},on:{blur:t.resetEditor},model:{value:t.editContent,callback:function(e){t.editContent=e},expression:\"editContent\"}}):\"select\"===t.editor.editType?i(\"el-select\",{ref:\"select\",style:{width:t.editor.curEditorWidth+\"px\"},attrs:{size:\"mini\",\"automatic-dropdown\":!0,placeholder:\"请选择\",clearable:\"\"},model:{value:t.editContent,callback:function(e){t.editContent=e},expression:\"editContent\"}},t._l(t.editor.options,(function(t){return i(\"el-option\",{key:t.value,attrs:{value:t.value,label:t.label}})})),1):\"number\"===t.editor.editType?i(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.editContent,expression:\"editContent\"}],ref:\"number\",domProps:{value:t.editContent},on:{input:[function(e){e.target.composing||(t.editContent=e.target.value)},function(e){return t.limitNumber(t.editContent)}],paste:function(e){return t.limitNumber(t.editContent)}}}):t._e()],1)]),t._v(\" \"),i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:!t.editor.editing&&t.editor.editorShow,expression:\"!editor.editing && editor.editorShow\"}],ref:\"autofillHandler\",staticClass:\"ww-autofill-handler\",style:t.autofillHandlerStyle,on:{mousedown:t.handleAutofill}}),t._v(\" \"),i(\"div\",{staticClass:\"ww-cover-area selected\",style:t.selectedStyle}),t._v(\" \"),i(\"div\",{staticClass:\"ww-cover-area selected fixed\",style:t.fixedSelectedStyle}),t._v(\" \"),i(\"div\",{staticClass:\"ww-cover-area autofill\",style:t.autofillStyle}),t._v(\" \"),i(\"div\",{staticClass:\"ww-cover-area autofill fixed\",style:t.fixedAutofillStyle})])}),[],!1,null,null,null).exports),Y={directives:{clickoutside:h},props:{columnsWidth:{type:Array,default:function(){return[]}},fixedCount:[String,Number],value:{type:Object,default:function(){return{}}},store:{required:!0}},components:{\"el-checkbox\":o.a},data:function(){return{left:0}},computed:{filterBtnStyle:function(){var t=this,e=!1;return Object.keys(this.dropdown.list).forEach((function(i){t.dropdown.list[i].checked&&(e=!0)})),e?{}:{cursor:\"not-allowed\",color:\"#c0c4cc\"}},dropdown:function(){return this.store.states.dropdown}},watch:{\"dropdown.index\":{handler:function(t){var e,i=this;t&&(e=this.dropdown.index<this.fixedCount?this.store.states.tableBodyLeft+this.columnsWidth.filter((function(t,e){return e<=i.dropdown.index})).reduce((function(t,e){return t+e}),0):this.columnsWidth.filter((function(t,e){return e<=i.dropdown.index})).reduce((function(t,e){return t+e}),0),this.$nextTick((function(){(e=e-i.$refs.dropdown.offsetWidth+i.$parent.$refs.wrapper.offsetLeft-i.store.states.tableBodyLeft)<i.$parent.$refs.wrapper.offsetLeft&&(e=i.$parent.$refs.wrapper.offsetLeft),i.left=\"\".concat(e,\"px\")})))}}},methods:{openDropdown:function(){this.store.openDropdown()},sort:function(t){this.store.sort(t)},handleFilter:function(){var t=this,e=!1;Object.keys(this.dropdown.list).forEach((function(i){t.dropdown.list[i].checked&&(e=!0)})),e&&(this.store.handleFilter(),this.$parent.handleResize())},resetFilter:function(){this.store.resetFilter(),this.$parent.handleResize()}}},H=(i(\"S35C\"),Object(m.a)(Y,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{directives:[{name:\"clickoutside\",rawName:\"v-clickoutside\",value:t.openDropdown,expression:\"openDropdown\"}],ref:\"dropdown\",staticClass:\"ww-dropdown-wrapper\",class:{active:0<=parseInt(t.dropdown.index)},style:{top:t.$parent.$refs.wrapper.offsetTop+t.store.states.theaderHeight+\"px\",left:t.left}},[i(\"div\",{staticClass:\"ww-sort\"},[i(\"span\",{class:{active:\"ascending\"==t.dropdown.sort},on:{click:function(e){return t.sort(\"ascending\")}}},[t._v(\"升序\")]),t._v(\" \"),i(\"span\",{class:{active:\"descending\"==t.dropdown.sort},on:{click:function(e){return t.sort(\"descending\")}}},[t._v(\"降序\")])]),t._v(\" \"),i(\"div\",{staticClass:\"ww-filter\"},[t._m(0),t._v(\" \"),i(\"ul\",{staticClass:\"content\"},t._l(t.dropdown.list,(function(e,r){return i(\"li\",{key:r},[i(\"el-checkbox\",{staticStyle:{\"margin-right\":\"2px\"},attrs:{size:\"mini\"},model:{value:e.checked,callback:function(i){t.$set(e,\"checked\",i)},expression:\"item.checked\"}}),t._v(\" \"),i(\"p\",[i(\"span\",{attrs:{title:r}},[t._v(t._s(r))]),t._v(\" \"),i(\"i\",[t._v(\"（\"+t._s(e.count)+\"）\")])])],1)})),0),t._v(\" \"),i(\"div\",{staticClass:\"btns\"},[i(\"span\",{style:t.filterBtnStyle,on:{click:t.handleFilter}},[t._v(\"筛选\")]),t._v(\" \"),i(\"span\",{on:{click:t.resetFilter}},[t._v(\"重置\")])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"title\"},[this._v(\"名称\"),e(\"span\",[this._v(\"（计数）\")])])}],!1,null,null,null).exports),X={x:\"tableWidth\",y:\"tableHeight\"},_={x:\"mainWidth\",y:\"mainHeight\"},D={x:\"pageX\",y:\"pageY\"},L={x:\"xWidth\",y:\"yHeight\"},j={x:\"posX\",y:\"posY\"},O={x:\"tableBodyLeft\",y:\"tableBodyTop\"},T={props:{store:{required:!0},barType:{type:String}},data:function(){return{canScroll:!1,oriMousePos:0}},computed:{scrollbar:function(){return this.store.states.scrollbar},boxStyle:function(){var t=\"\".concat(this.scrollbar[L[this.barType]],\"px\");return\"x\"===this.barType?{width:t,transform:\"translateX(\".concat(this.scrollbar[j[this.barType]],\"px)\")}:\"y\"===this.barType?{height:t,transform:\"translateY(\".concat(this.scrollbar[j[this.barType]],\"px)\")}:{}}},methods:{handleDown:function(t){this.canScroll=!0,this.oriMousePos=t[D[this.barType]]-this.scrollbar[j[this.barType]],window.addEventListener(\"mouseup\",this.handleUp),window.addEventListener(\"mousemove\",this.handleMove)},handleMove:function(t){var e,i=this.store.states,r=this.barType;this.canScroll&&((e=t[D[r]]-this.oriMousePos)<=0?i.scrollbar[j[r]]=0:e>=i[_[r]]-i.scrollbar[L[r]]?i.scrollbar[j[r]]=i[_[r]]-i.scrollbar[L[r]]:i.scrollbar[j[r]]=e,i[O[r]]=this.scrollbar[j[r]]/(i[_[r]]-this.scrollbar[L[r]])*(i[X[r]]-i[_[r]]))},handleUp:function(){this.canScroll=!1,window.removeEventListener(\"mouseup\",this.handleUp),window.removeEventListener(\"mousemove\",this.handleMove)}}};function E(t,e){if(t){if(\"string\"==typeof t)return $(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===i&&t.constructor&&(i=t.constructor.name),\"Map\"===i||\"Set\"===i?Array.from(t):\"Arguments\"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?$(t,e):void 0}}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function B(t,e){var i,r=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)),r}i(\"Zg3/\");var N={name:\"vue-willtable\",directives:{clickoutside:h},components:{TableHeader:y,TableBody:b,Editor:W,Dropdown:H,Scroll:Object(m.a)(T,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"ww-scroll-wrap\",class:t.barType},[i(\"div\",{staticClass:\"ww-scroll-box\",style:t.boxStyle,on:{mousedown:t.handleDown}})])}),[],!1,null,null,null).exports},props:{value:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},maxHeight:{type:[String,Number],default:function(){return window.innerHeight}},rowHeight:{type:[String,Number],default:28},theaderHeight:{type:[String,Number],default:30},disabled:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},cellStyle:{type:[Object,Function],default:function(){return function(){return{}}}},cellClassName:{type:[Object,Function],default:function(){return function(){return{}}}}},data:function(){return{store:new u,wrapperWidth:null,columnsWidth:[],allSetWidth:!1,data:[],scrollLeftArr:[],scrollTopArr:[],fixedCount:0,fixedWidth:0,mouseX:0,mouseY:0,excelPos:{}}},computed:{tableWidth:function(){return this.store.states.tableWidth},tableHeight:function(){return this.store.states.tableHeight},tableBodyTop:function(){return this.store.states.tableBodyTop},tableBodyLeft:function(){return this.store.states.tableBodyLeft}},watch:{value:function(t){this.data=t},data:{handler:function(t){var e=this.store.states;e.isOperation||(e.historyData.length!==e.curHisory&&(e.historyData=e.historyData.slice(0,e.curHisory)),e.historyData.push(JSON.stringify(t)),e.curHisory+=1),this.$emit(\"input\",t),e.initialData||this.initData(),this.store.handleFilters(),this.store.handleChangeData(),this.store.handleErrors(),this.handleResize()},deep:!0},columns:{handler:function(){var t=this;this.initColumns(),this.store.handleFilters(),setTimeout((function(){t.handleResize()}),0)},deep:!0},tableBodyTop:function(){this.store.calcDomData()},tableBodyLeft:function(){this.store.states.dropdown.index=null}},mounted:function(){this.init()},mixins:[f,{methods:{selectionChange:function(){var t=this.store.states,e=this.store.states.showData.filter((function(e,i){return t.dataStatusList[i].checked}));this.$emit(\"selection-change\",e),t.dataStatusList.every((function(t){return t.checked}))?(this.$refs.theader.checkedAll=!0,this.$refs.fixedTheader.checkedAll=!0):(this.$refs.theader.checkedAll=!1,this.$refs.fixedTheader.checkedAll=!1)}}}],methods:{init:function(){var t=this;0<this.value.length&&(this.data=this.value),this.store.states.rowHeight=this.rowHeight,window.addEventListener(\"resize\",(function(){t.handleResize()})),this.store.handleIsMac(),this.initColumns(),this.handleResize(),this.handleMousewheel()},handleMousewheel:function(){function t(t){var r,s;e.tableHeight<=e.maxHeight||(r=i.tableBodyTop,s=i.tableBodyLeft,t.wheelDelta?t.wheelDeltaY?r-=t.wheelDelta:s-=t.wheelDelta:2===t.axis?r+=40*t.detail:s+=40*t.detail,e.store.setScrollStatus(r,s))}var e=this,i=this.store.states;this.$refs.tbody.$el.addEventListener(\"mousewheel\",t),this.$refs.tbody.$el.addEventListener(\"DOMMouseScroll\",t),this.$nextTick((function(){e.$refs.fixedTbody.$el.addEventListener(\"mousewheel\",t),e.$refs.fixedTbody.$el.addEventListener(\"DOMMouseScroll\",t)}))},initColumns:function(){var t=this.store.states,e=this.columns.filter((function(t){return t.fixed})),i=this.columns.filter((function(t){return!t.fixed}));t.columns=e.concat(i).map((function(t){return t.width&&(t.width=parseInt(t.width,10)),function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?B(Object(i),!0).forEach((function(e){var r,s,o;r=t,o=i[s=e],s in r?Object.defineProperty(r,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[s]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):B(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},t)})),this.columnsWidth=t.columns.map((function(t){return t.width})),t.columnsStatusList=t.columns.map((function(t){return{key:t.key,type:t.type,list:{},sort:\"\"}})),t.filters={}},initData:function(){var t=this.store.states;t.data=this.data,t.showData=this.data,t.dataStatusList=this.data.map((function(){return{checked:!1,errors:[]}})),t.initialData=JSON.parse(JSON.stringify(t.data)),t.historyData=[JSON.stringify(t.data)],t.curHisory=1,this.$refs.theader&&(this.$refs.theader.checkedAll=!1),this.$refs.fixedTheader&&(this.$refs.fixedTheader.checkedAll=!1),this.initColumns()},handleResize:function(){var t=this,e=this.store.states;this.excelPos=this.$refs.willtable.getBoundingClientRect(),e.editor.editorRange={minX:e.columns.filter((function(t){return\"selection\"===t.type})).length,maxX:e.columns.length-1,minY:0,maxY:e.showData.length-1},this.wrapperWidth=this.$refs.wrapper.offsetWidth,this.$nextTick((function(){var i,r,s=e.columns.filter((function(t){return!t.width}));t.$refs.tbody.$el&&(0<s.length&&0<(r=t.wrapperWidth-e.columns.filter((function(t){return t.width})).reduce((function(t,e){return t+e.width}),0))&&(i=t.$refs.tbody.$el.offsetHeight>t.maxHeight?(r-1-e.scrollBarWidth)/s.length:(r-1)/s.length),e.columns.forEach((function(e,r){e.width?t.$set(t.columnsWidth,r,e.width):80<i?t.$set(t.columnsWidth,r,i):t.$set(t.columnsWidth,r,80)})),t.scrollLeftArr=t.columnsWidth.map((function(e,i){return t.columnsWidth.reduce((function(t,e,r){return r<=i?t+e:t}),0)})),t.scrollTopArr=e.showData.map((function(i,r){return e.showData.reduce((function(e,i,s){return s<=r?e+parseInt(t.rowHeight,10):e}),0)})),t.scrollTopArr.unshift(0),t.fixedCount=e.columns.filter((function(t){return t.fixed})).length,t.fixedWidth=t.scrollLeftArr[t.fixedCount-1]||0,t.allSetWidth=e.columns.every((function(t){return t.width})),t.allSetWidth?e.tableWidth=e.columns.map((function(t){return t.width})).reduce((function(t,e){return t+e}),0):(e.tableWidth=t.columnsWidth.reduce((function(t,e){return t+e}),0),e.tableWidth<t.wrapperWidth&&(e.tableWidth=t.wrapperWidth)))})),e.theaderHeight=this.theaderHeight,e.mainWidth=this.$refs.wrapper.offsetWidth-e.scrollBarWidth,e.mainHeight=this.maxHeight+this.theaderHeight,e.tableHeight=e.showData.length*this.rowHeight+this.theaderHeight,this.store.initScrollBarLength(),this.store.calcDomData()},clickoutside:function(){var t=this.store.states;t.selector.isSelected||t.autofill.isAutofill||(t.editor.editing=!1,t.editor.editorShow=!1,t.selector.selectedXArr=[],t.selector.selectedYArr=[],window.removeEventListener(\"keydown\",this.keySubmit),window.removeEventListener(\"mousemove\",this.multiSelectAdjustPostion))},selectCell:function(t,e,i,r){var s,o=this;this.disabled||0===t.button&&(s=this.store.states,window.addEventListener(\"keydown\",this.keySubmit),window.addEventListener(\"mousemove\",this.multiSelectAdjustPostion),\"selection\"!==r&&(window.addEventListener(\"mouseup\",this.selectUp),s.editor.editing=!1,s.editor.editType=\"text\",s.editor.editorShow=!0,s.autofill.autofillXIndex=e,s.autofill.autofillYIndex=i,s.selector.selectedXIndex=e,s.selector.selectedYIndex=i,s.selector.selectedXArr=[e,e],s.selector.selectedYArr=[i,i],s.selector.isSelected=!0,this.$nextTick((function(){s.editor.editorXIndex=e,s.editor.editorYIndex=i,s.editor.curEditorCoverValue=s.showData[s.editor.editorYIndex][s.columns[s.editor.editorXIndex].key],o.$nextTick((function(){o.adjustPosition(),o.$refs.editor.$refs.clipboard.focus()}))}))))},keySubmit:function(t){var e=this.store.states,i=t.keyCode,r=t.ctrlKey,s=t.metaKey;if(r&&90===i||s&&90===i)return this.store.operation(\"undo\");if(r&&89===i||s&&89===i)return this.store.operation(\"recovery\");if(e.editor.editing&&(13===i||27===i))return e.editor.editing=!1,void(e.editor.editType=\"text\");if(!e.editor.editing&&e.editor.editorShow){if(r&&67===i||s&&67===i)return this.getContentToclipboard();if(r&&65===i||s&&65===i)return this.store.selectAllCells();var o;if(!r&&!s)switch(t.preventDefault(),!0){case 37===i:e.editor.editorXIndex===e.editor.editorRange.minX?e.editor.editorXIndex=e.editor.editorRange.minX:--e.editor.editorXIndex,this.adjustPosition();break;case 38===i:e.editor.editorYIndex===e.editor.editorRange.minY?e.editor.editorYIndex=e.editor.editorRange.minY:--e.editor.editorYIndex,this.adjustPosition();break;case 39===i:e.editor.editorXIndex===e.editor.editorRange.maxX?e.editor.editorXIndex=e.editor.editorRange.maxX:e.editor.editorXIndex+=1,this.adjustPosition();break;case 40===i:e.editor.editorYIndex===e.editor.editorRange.maxY?e.editor.editorYIndex=e.editor.editorRange.maxY:e.editor.editorYIndex+=1,this.adjustPosition();break;case 8===i||46===i:this.store.clearSelected();break;case 13===i:this.setEditing();break;case 65<=(o=i)&&o<=90||48<=o&&o<=57||96<=o&&o<=107||109<=o&&o<=111||32===o||186<=o&&o<=222||\"Process\"===t.key||\"Unidentified\"===t.key:this.setEditing(t.key)}}},getContentToclipboard:function(){for(var t=this.store.states,e=\"\",i=0;i<=t.selector.selectedYArr[1]-t.selector.selectedYArr[0];i+=1)for(var r=0;r<=t.selector.selectedXArr[1]-t.selector.selectedXArr[0];r+=1)t.selector.selectedXArr[1]-t.selector.selectedXArr[0]==0?e+=\"\".concat(t.showData[i+t.selector.selectedYArr[0]][t.columns[r+t.selector.selectedXArr[0]].key]||\"\",\"\\n\"):0===r?e+=t.showData[i+t.selector.selectedYArr[0]][t.columns[r+t.selector.selectedXArr[0]].key]||\"\":r===t.selector.selectedXArr[1]-t.selector.selectedXArr[0]?e+=\"\\t\".concat(t.showData[i+t.selector.selectedYArr[0]][t.columns[r+t.selector.selectedXArr[0]].key]||\"\",\"\\n\"):e+=\"\\t\".concat(t.showData[i+t.selector.selectedYArr[0]][t.columns[r+t.selector.selectedXArr[0]].key]||\"\");var s=document.createElement(\"textarea\");s.value=e,document.body.appendChild(s),s.select();try{var o=document.execCommand(\"copy\");console.log(o)}catch(t){console.log(t)}document.body.removeChild(s)},clipboardToContent:function(t){var e=this;setTimeout((function(){var i=e.store.states,r=[];t.target.value.split(\"\\n\").forEach((function(t,e,s){(i.isMac||e<s.length-1)&&r.push(t.split(\"\\t\"))}));var s=i.selector.selectedXArr[1]-i.selector.selectedXArr[0]+1,o=i.selector.selectedYArr[1]-i.selector.selectedYArr[0]+1;if(o%r.length==0&&s%r[0].length==0)for(var n=0;n<=o-1;n+=1)for(var l=0;l<=s-1;l+=1)i.columns[l+i.selector.selectedXArr[0]].disabled||(i.showData[n+i.selector.selectedYArr[0]][i.columns[l+i.selector.selectedXArr[0]].key]=r[n%r.length][l%r[0].length]);else for(var a=0;a<=r.length-1;a+=1)for(var d=0;d<=r[a].length-1;d+=1)i.showData[a+i.selector.selectedYArr[0]]&&i.columns[d+i.selector.selectedXArr[0]]&&(i.columns[d+i.selector.selectedXArr[0]].disabled||(i.showData[a+i.selector.selectedYArr[0]][i.columns[d+i.selector.selectedXArr[0]].key]=r[a][d]));e.$refs.editor.$refs.clipboard.value=\"\"}),0)},setEditing:function(t){var e,i=this,r=this.store.states;r.columns[r.editor.editorXIndex].disabled||(r.editor.editType=r.columns[r.editor.editorXIndex].type?r.columns[r.editor.editorXIndex].type:\"text\",r.editor.curEditorWidth=this.columnsWidth[r.editor.editorXIndex],!t||\"text\"!==r.editor.editType&&\"number\"!==r.editor.editType?this.$refs.editor.editContent=r.showData[r.editor.editorYIndex][r.columns[r.editor.editorXIndex].key]:\"Process\"===t||\"Unidentified\"===t?t.match(/\\d/)?(e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],r=!0,s=!1,o=void 0;try{for(var n,l=t[Symbol.iterator]();!(r=(n=l.next()).done)&&(i.push(n.value),!e||i.length!==e);r=!0);}catch(t){s=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(s)throw o}}return i}}(t,e)||E(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}(t.match(/\\d/),1),this.$refs.editor.editContent=e[0]):this.$refs.editor.editContent=\"\":this.$refs.editor.editContent=t,r.editor.editing=!0,\"select\"===r.editor.editType&&(r.editor.options=r.columns[r.editor.editorXIndex].options),this.$nextTick((function(){i.$refs.editor.$refs[r.editor.editType].focus()})))},selectUp:function(){var t=this;setTimeout((function(){t.store.states.selector.isSelected=!1}),0)},adjustPosition:function(){var t,e,i,r,s,o,n,l=this,a=this.store.states;a.editor.editorXIndex<this.fixedCount?a.editor.editorIsFixed=!0:a.editor.editorIsFixed=!1,a.autofill.autofillXIndex=a.editor.editorXIndex,a.autofill.autofillYIndex=a.editor.editorYIndex,a.selector.selectedXArr=[a.editor.editorXIndex,a.editor.editorXIndex],a.selector.selectedYArr=[a.editor.editorYIndex,a.editor.editorYIndex],r=0<this.fixedCount?(t=this.scrollLeftArr.slice(this.fixedCount-1,-1).map((function(t){return t-l.fixedWidth})),e=this.scrollLeftArr.slice(this.fixedCount).map((function(t){return t-l.fixedWidth})),i=t[a.editor.editorXIndex-this.fixedCount],e[a.editor.editorXIndex-this.fixedCount]+this.fixedWidth-this.wrapperWidth+a.scrollBarWidth+1):(i=(s=[0].concat(function(t){return function(t){if(Array.isArray(t))return $(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||E(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}(this.scrollLeftArr)))[a.editor.editorXIndex],s[a.editor.editorXIndex+1]-this.wrapperWidth+a.scrollBarWidth+1),a.tableWidth>this.wrapperWidth&&(a.tableBodyLeft>i&&(a.tableBodyLeft=i),a.tableBodyLeft<r&&(a.tableBodyLeft=r),a.scrollbar.posX=a.tableBodyLeft/(a.tableWidth-a.mainWidth)*(a.mainWidth-a.scrollbar.xWidth)),this.maxHeight&&(o=this.scrollTopArr[a.editor.editorYIndex]+1,a.tableBodyTop>o&&(a.tableBodyTop=o),n=this.scrollTopArr[a.editor.editorYIndex+1]-this.maxHeight+1,a.tableBodyTop<n&&(a.tableBodyTop=n),a.scrollbar.posY=a.tableBodyTop/(a.tableHeight-a.mainHeight)*(a.mainHeight-a.scrollbar.yHeight))},multiSelectAdjustPostion:function(t){var e=this,i=this.store.states;if(i.selector.isSelected||i.autofill.isAutofill){if(t&&(t=t||window.event,this.mouseX=t.pageX,this.mouseY=t.pageY),i.selector.selectedYArr[0]===i.selector.selectedYArr[1]&&i.selector.selectedXArr[0]===i.selector.selectedXArr[1])return;var r=this.$refs.willtable.offsetTop+this.theaderHeight,s=this.excelPos.left+this.fixedWidth,o=this.$refs.willtable.offsetTop+this.$refs.willtable.offsetHeight-10,n=this.excelPos.left+this.$refs.willtable.offsetWidth-10,l=i.tableBodyTop,a=i.tableBodyLeft;this.tableHeight>this.maxHeight&&(this.mouseY<r&&(l-=20),this.mouseY>o&&(l+=20)),this.mouseX<s&&(a-=20),this.mouseX>n&&(a+=20),this.store.setScrollStatus(l,a),setTimeout((function(){e.multiSelectAdjustPostion()}),16)}else window.removeEventListener(\"mousemove\",this.multiSelectAdjustPostion)},selectAll:function(){var t=this,e=this.store.states,i=e.dataStatusList.every((function(t){return t.checked}));e.dataStatusList.forEach((function(r,s){t.$set(e.dataStatusList[s],\"checked\",!i)})),this.selectionChange()},adjustWidth:function(t,e){this.store.states.columns[t].width=e,this.handleResize()}}},P=(i(\"0UNb\"),{name:\"App\",components:{Willtable:Object(m.a)(N,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{ref:\"willtable\",staticClass:\"ww-willtable\",style:{width:t.allSetWidth&&t.tableWidth<=t.wrapperWidth?t.tableWidth+\"px\":\"\"}},[i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:0<t.store.states.columns.length,expression:\"store.states.columns.length > 0\"},{name:\"clickoutside\",rawName:\"v-clickoutside\",value:t.clickoutside,expression:\"clickoutside\"}],ref:\"wrapper\",staticClass:\"ww-table-wrapper\",class:{scrollX:t.tableWidth>t.wrapperWidth,scrollY:t.tableHeight>t.maxHeight}},[i(\"table-header\",{ref:\"theader\",attrs:{showIcon:t.showIcon,columnsWidth:t.columnsWidth,fixedCount:t.fixedCount,\"all-show\":!0,store:t.store}}),t._v(\" \"),i(\"table-body\",{ref:\"tbody\",style:{maxHeight:t.maxHeight+\"px\"},attrs:{columnsWidth:t.columnsWidth,\"all-show\":!0,cellStyle:t.cellStyle,cellClassName:t.cellClassName,store:t.store}}),t._v(\" \"),i(\"editor\",{ref:\"editor\",attrs:{columnsWidth:t.columnsWidth,fixedCount:t.fixedCount,store:t.store}}),t._v(\" \"),i(\"table-header\",{ref:\"fixedTheader\",style:{width:t.fixedWidth+\"px\"},attrs:{fixed:!0,showIcon:t.showIcon,columnsWidth:t.columnsWidth,fixedCount:t.fixedCount,store:t.store}}),t._v(\" \"),i(\"table-body\",{ref:\"fixedTbody\",style:{width:t.fixedWidth+\"px\"},attrs:{fixed:!0,columnsWidth:t.columnsWidth,cellStyle:t.cellStyle,cellClassName:t.cellClassName,store:t.store,scrollY:t.tableHeight>t.maxHeight}})],1),t._v(\" \"),i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:0===t.store.states.columns.length,expression:\"store.states.columns.length === 0\"}],staticClass:\"ww-empty-columns\"},[t._v(\"\\n    暂无表头\\n  \")]),t._v(\" \"),i(\"dropdown\",{attrs:{columnsWidth:t.columnsWidth,fixedCount:t.fixedCount,store:t.store}}),t._v(\" \"),i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.store.states.adjustLineShow,expression:\"store.states.adjustLineShow\"}],staticClass:\"ww-adjustLine\",style:{left:t.store.states.adjustLineLeft+\"px\"}}),t._v(\" \"),t.tableWidth>t.wrapperWidth?i(\"scroll\",{attrs:{barType:\"x\",store:t.store}}):t._e(),t._v(\" \"),i(\"scroll\",{attrs:{barType:\"y\",store:t.store}})],1)}),[],!1,null,null,null).exports,\"el-checkbox\":o.a},data:function(){var t=this;return{features:[{label:\"显示数据类型icon\",checked:!0,handleChange:function(e){t.showIcon=e}},{label:\"显示行多选\",checked:!0,handleChange:function(e){e?t.columns.unshift({type:\"selection\",width:40,fixed:!0}):t.columns.shift()}},{label:\"固定列（序号、姓名）\",checked:!0,handleChange:function(e){t.columns.forEach((function(t){[\"sid\",\"name\"].includes(t.key)&&(t.fixed=e)}))}},{label:\"启用筛选与过滤（序号、姓名、日期）\",checked:!1,handleChange:function(e){t.columns.forEach((function(i){[\"sid\",\"name\",\"date\"].includes(i.key)&&t.$set(i,\"action\",e)}))}},{label:\"禁止整表操作\",checked:!1,handleChange:function(e){t.disabled=e}},{label:\"禁止序号操作\",checked:!1,handleChange:function(e){t.columns.some((function(i){return\"sid\"===i.key&&(t.$set(i,\"disabled\",e),!0)}))}},{label:\"自定义单元格样式\",checked:!1,handleChange:function(e){t.cellStyle=e?function(t){var e=t.rowIndex,i=t.columnIndex;if(e%2==1&&i%2==0)return{color:\"#67C23A\"}}:function(){}}},{label:\"自定义单元格类名\",checked:!1,handleChange:function(e){t.cellClassName=e?function(t){var e=t.rowIndex,i=t.columnIndex;if(e%2==0&&i%2==1)return{customChanged:!0}}:function(){}}}],columns:[],columnsData:[{type:\"selection\",width:40,fixed:!0},{title:\"序号\",key:\"sid\",fixed:!0,type:\"number\",width:100},{title:\"姓名\",key:\"name\",fixed:!0,width:120},{title:\"日期\",key:\"date\",type:\"date\",width:100},{title:\"工作岗位\",key:\"email\",width:300,type:\"select\",options:[{value:\"Web前端开发\",label:\"Web前端开发\"},{value:\"Java开发\",label:\"Java开发\"},{value:\"Python开发\",label:\"Python开发\"},{value:\"Php开发\",label:\"Php开发\"}]},{title:\"月份\",key:\"month\",type:\"month\",width:100},{title:\"地址\",key:\"address\",width:200},{title:\"标题\",key:\"title\",width:300},{title:\"内容\",key:\"paragraph\",width:300},{title:\"链接\",key:\"url\",width:200},{title:\"ip\",key:\"ip\",width:200,validate:function(t){return/((2(5[0-5]|[0-4]\\d))|[0-1]?\\d{1,2})(\\.((2(5[0-5]|[0-4]\\d))|[0-1]?\\d{1,2})){3}/g.test(t)}},{title:\"总金额\",key:\"sum\",width:200},{title:\"ID\",key:\"id\",width:200},{title:\"色值\",key:\"color\",width:200}],data:[],showIcon:!0,disabled:!1,maxHeight:800,cellStyle:function(){},cellClassName:function(){}}},watch:{data:{handler:function(t){console.log(\"%clist\",\"color:red;font-size:16px;text-shadow:1px 1px 1px blue;\",t)},immediate:!0,deep:!0}},mounted:function(){this.getList(),this.maxHeight=document.documentElement.clientHeight-200},methods:{getList:function(){this.columns=this.columnsData;var t=l.a.mock({\"list|100\":[{\"sid|+1\":1,\"userId|5\":\"\",\"sex|1-2\":!0,guid:\"@guid\",id:\"@id\",title:\"@title()\",paragraph:\"@cparagraph\",image:\"@image('200x100', '#4A7BF7', 'Hello')\",address:\"@county(true)\",date:'@date(\"yyyy-MM-dd\")',month:\"\",time:'@time(\"HH:mm:ss\")',url:\"@url\",email:\"Web前端开发\",ip:\"@ip\",sum:\"@ip\",regexp:/[a-z][A-Z][0-9]/,name:\"@name()\",color:\"@rgba()\"}]});console.log(\"%cdata\",\"color:red;font-size:16px;text-shadow:1px 1px 1px blue;\",t),this.$refs.willtable.setData(t.list,null,100)},getErrorRows:function(){console.log(this.$refs.willtable.getErrorRows())},getChangeData:function(){console.log(this.$refs.willtable.getChangeData())},selectionChange:function(t){console.log(\"%cval\",\"color:red;font-size:16px;text-shadow:1px 1px 1px blue;\",t)},add:function(){var t={};t.id=(new Date).getTime(),this.columns.forEach((function(e){e.key&&(t[e.key]=\"\")})),this.$refs.willtable.addItem(t)},remove:function(){this.$refs.willtable.removeItems(\"sid\",this.selection.map((function(t){return t.sid})))},linkGithub:function(){}}}),R=i(\"uemM\"),M=Object(m.a)(P,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{attrs:{id:\"app\"}},[i(\"hgroup\",{class:t.s.title},[i(\"h2\",[t._v(\"从左侧勾选定制你的数据表格\")])]),t._v(\" \"),i(\"div\",{class:t.s.main},[i(\"div\",{class:t.s.features_wrapper},[i(\"div\",{class:t.s.features_title},[i(\"span\",[t._v(\"特征\")]),t._v(\" \"),i(\"button\",{class:t.s.github_link,on:{click:t.linkGithub}})]),t._v(\" \"),i(\"ul\",{class:t.s.features_list},t._l(t.features,(function(e,r){return i(\"li\",{key:r},[i(\"label\",[t._v(t._s(e.label))]),t._v(\" \"),i(\"el-checkbox\",{on:{change:e.handleChange},model:{value:e.checked,callback:function(i){t.$set(e,\"checked\",i)},expression:\"item.checked\"}})],1)})),0)]),t._v(\" \"),i(\"div\",{class:t.s.willtable_wrapper},[i(\"willtable\",{ref:\"willtable\",attrs:{columns:t.columns,maxHeight:t.maxHeight,disabled:t.disabled,showIcon:t.showIcon,cellStyle:t.cellStyle,cellClassName:t.cellClassName,rowHeight:28},on:{\"selection-change\":t.selectionChange},model:{value:t.data,callback:function(e){t.data=e},expression:\"data\"}})],1)])])}),[],!1,(function(t){this.s=R.default.locals||R.default}),null,null).exports;i(\"tW1c\"),new r.default({render:function(t){return t(M)}}).$mount(\"#app\")},\"4IID\":function(t,e,i){},\"5NrJ\":function(t,e,i){},HQFz:function(t,e,i){},M7Qs:function(t,e,i){},NgJc:function(t,e,i){\"use strict\";var r=i(\"g1Q5\");i.n(r).a},S35C:function(t,e,i){\"use strict\";var r=i(\"5NrJ\");i.n(r).a},\"W+Kp\":function(t,e,i){\"use strict\";var r=i(\"M7Qs\");i.n(r).a},\"Y7/N\":function(t,e,i){},\"Zg3/\":function(t,e,i){\"use strict\";var r=i(\"sLwC\");i.n(r).a},g1Q5:function(t,e,i){},hbnG:function(t,e,i){\"use strict\";var r=i(\"HQFz\");i.n(r).a},sLwC:function(t,e,i){},tW1c:function(t,e,i){\"use strict\";i.r(e);var r=i(\"luuv\"),s=i.n(r);s.a.mock(\"https://demo.kevinmint.com/1.json\",\"get\",{\"list|100\":[{\"sid|+1\":1,\"userId|5\":\"\",\"sex|1-2\":!0,guid:\"@guid\",id:\"@id\",title:\"@title()\",paragraph:\"@cparagraph\",image:\"@image('200x100', '#4A7BF7', 'Hello')\",address:\"@county(true)\",date:'@date(\"yyyy-MM-dd\")',month:\"\",time:'@time(\"HH:mm:ss\")',url:\"@url\",email:\"@email\",ip:\"@ip\",sum:\"@ip\",regexp:/[a-z][A-Z][0-9]/,name:\"@name()\",color:\"@rgba()\"}]}),s.a.mock(\"http://2.json\",\"get\",{\"list|20\":[\"@range(1, 100, 9)\"]}),s.a.mock(\"http://3.json\",\"get\",{\"list|120\":[{\"sid|+1\":1,\"userId|5\":\"\",\"sex|1-2\":!0,guid:\"@guid\",id:\"@id\",title:\"@title()\",paragraph:\"@cparagraph\",image:\"@image('200x100', '#4A7BF7', 'Hello')\",address:\"@county(true)\",date:'@date(\"yyyy-MM-dd\")',month:\"\",time:'@time(\"HH:mm:ss\")',url:\"@url\",email:\"@email\",ip:\"@ip\",regexp:/[a-z][A-Z][0-9]/}]}),s.a.mock(\"http://4.json\",\"get\",{\"list|200\":[{\"sid|+1\":1,\"userId|5\":\"\",\"sex|1-2\":!0,guid:\"@guid\",id:\"@id\",title:\"@title()\",paragraph:\"@cparagraph\",image:\"@image('200x100', '#4A7BF7', 'Hello')\",address:\"@county(true)\",date:'@date(\"yyyy-MM-dd\")',month:\"\",time:'@time(\"HH:mm:ss\")',url:\"@url\",email:\"@email\",ip:\"@ip\",regexp:/[a-z][A-Z][0-9]/}]})},uemM:function(t,e,i){\"use strict\";var r=i(\"3GTM\"),s=i.n(r);e.default=s.a}},[[0,1,2]]]);","extractedComments":[]}